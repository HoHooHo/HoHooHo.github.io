<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://hohooho.github.io/OpenGL/%E6%9D%90%E8%B4%A8/">
        <link rel="shortcut icon" href="../../theme/favicon.ico">
        
        <title>材质 - 梦之斋</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/darcula.min.css">
        <link href="../../css/markdown-it-admonition.css" rel="stylesheet">
        <link href="../../css/style.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">

				
                <a href="../.."><img class="user-avatar" src="../../theme/avatar.png" alt="头像"></a>
				
				
				<!--
                <a class="navbar-brand" href="../..">梦之斋</a>
				 -->
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">首页</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">OpenGL <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Pipeline/" class="dropdown-item">渲染管线</a>
</li>
                                    
<li>
    <a href="../VAO_VBO_EBO/" class="dropdown-item">VAO、VBO、EBO</a>
</li>
                                    
<li>
    <a href="../%E5%85%89%E7%85%A7/" class="dropdown-item">光照</a>
</li>
                                    
<li>
    <a href="../%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE/" class="dropdown-item">法线贴图</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">材质</a>
</li>
                                    
<li>
    <a href="../%E5%85%89%E6%BA%90/" class="dropdown-item">光源</a>
</li>
                                    
<li>
    <a href="../%E5%87%A0%E4%BD%95%E7%9D%80%E8%89%B2%E5%99%A8/" class="dropdown-item">几何着色器</a>
</li>
                                    
<li>
    <a href="../%E9%AB%98%E7%BA%A7GLSL/" class="dropdown-item">高级GLSL</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../markdown/" class="nav-link">markdown语法</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> 搜索
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> 上一页
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../%E5%85%89%E6%BA%90/" class="nav-link">
                                    下一页 <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/HoHooHo/HoHooHo.github.io" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#_1" class="nav-link">材质</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#_2" class="nav-link">常用材质属性</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_3" class="nav-link">设置材质</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_4" class="nav-link">光的属性</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_5" class="nav-link">材质贴图</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">材质<a class="headerlink" href="#_1" title="Permanent link">#</a></h1>
<p><a href="https://learnopengl-cn.github.io/02%20Lighting/03%20Materials/">参考 https://learnopengl-cn.github.io/02%20Lighting/03%20Materials/</a></p>
<p>根据 <a href="../%E5%85%89%E7%85%A7/">上节光照</a> 的内容，可以用这三个分量来定义一个材质颜色(Material Color)：</p>
<pre><code>- 环境光照(Ambient Lighting)
- 漫反射光照(Diffuse Lighting)
- 镜面光照(Specular Lighting)
</code></pre>
<p>通过为每个分量指定一个颜色，我们就能够精确控制物体的颜色了。</p>
<p>现在，我们再添加反光度(Shininess)这个分量到上述的三个颜色中，这样就有了我们需要的所有的材质属性了：</p>
<pre><code class="language-c">    #version 330 core
    struct Material {
        vec3 ambient;
        vec3 diffuse;
        vec3 specular;
        float shininess;
    }; 

    uniform Material material;
</code></pre>
<h2 id="_2">常用材质属性<a class="headerlink" href="#_2" title="Permanent link">#</a></h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Ambient</th>
<th>Diffuse</th>
<th>Specular</th>
<th>Shininess</th>
</tr>
</thead>
<tbody>
<tr>
<td>emerald(祖母绿)</td>
<td>(0.0215, 0.1745, 0.0215)</td>
<td>(0.07568, 0.61424, 0.07568)</td>
<td>(0.633, 0.727811, 0.633)</td>
<td>0.6</td>
</tr>
<tr>
<td>jade(翡翠绿)</td>
<td>(0.135, 0.2225, 0.1575)</td>
<td>(0.54, 0.89, 0.63)</td>
<td>(0.316228, 0.316228, 0.316228)</td>
<td>0.1</td>
</tr>
<tr>
<td>obsidian(黑曜石)</td>
<td>(0.05375, 0.05, 0.06625)</td>
<td>(0.18275, 0.17, 0.22525)</td>
<td>(0.332741, 0.328634, 0.346435)</td>
<td>0.3</td>
</tr>
<tr>
<td>pearl(珍珠白)</td>
<td>(0.25, 0.20725, 0.20725)</td>
<td>(1, 0.829, 0.829)</td>
<td>(0.296648, 0.296648, 0.296648)</td>
<td>0.088</td>
</tr>
<tr>
<td>ruby(红宝石)</td>
<td>(0.1745, 0.01175, 0.01175)</td>
<td>(0.61424, 0.04136, 0.04136)</td>
<td>(0.727811, 0.626959, 0.626959)</td>
<td>0.6</td>
</tr>
<tr>
<td>turquoise(青绿色)</td>
<td>(0.1, 0.18725, 0.1745)</td>
<td>(0.396, 0.74151, 0.69102)</td>
<td>(0.297254, 0.30829, 0.306678)</td>
<td>0.1</td>
</tr>
<tr>
<td>brass(黄铜)</td>
<td>(0.329412, 0.223529, 0.027451)</td>
<td>(0.780392, 0.568627, 0.113725)</td>
<td>(0.992157, 0.941176, 0.807843)</td>
<td>0.21794872</td>
</tr>
<tr>
<td>bronze(青铜)</td>
<td>(0.2125, 0.1275, 0.054)</td>
<td>(0.714, 0.4284, 0.18144)</td>
<td>(0.393548, 0.271906, 0.166721)</td>
<td>0.2</td>
</tr>
<tr>
<td>chrome(铬合金)</td>
<td>(0.25, 0.25, 0.25)</td>
<td>(0.4, 0.4, 0.4)</td>
<td>(0.774597, 0.774597, 0.774597)</td>
<td>0.6</td>
</tr>
<tr>
<td>copper(紫铜色)</td>
<td>(0.19125, 0.0735, 0.0225)</td>
<td>(0.7038, 0.27048, 0.0828)</td>
<td>(0.256777, 0.137622, 0.086014)</td>
<td>0.1</td>
</tr>
<tr>
<td>gold(金色)</td>
<td>(0.24725, 0.1995, 0.0745)</td>
<td>(0.75164, 0.60648, 0.22648)</td>
<td>(0.628281, 0.555802, 0.366065)</td>
<td>0.4</td>
</tr>
<tr>
<td>silver(银色)</td>
<td>(0.19225, 0.19225, 0.19225)</td>
<td>(0.50754, 0.50754, 0.50754)</td>
<td>(0.508273, 0.508273, 0.508273)</td>
<td>0.4</td>
</tr>
<tr>
<td>black plastic(黑塑料)</td>
<td>(0.0, 0.0, 0.0)</td>
<td>(0.01, 0.01, 0.01)</td>
<td>(0.50, 0.50, 0.50)</td>
<td>0.25</td>
</tr>
<tr>
<td>cyan plastic(青塑料)</td>
<td>(0.0, 0.1, 0.06)</td>
<td>(0.0, 0.50980392, 0.50980392)</td>
<td>(0.50196078, 0.50196078, 0.50196078)</td>
<td>0.25</td>
</tr>
<tr>
<td>green plastic(绿塑料)</td>
<td>(0.0, 0.0, 0.0)</td>
<td>(0.1, 0.35, 0.1)</td>
<td>(0.45, 0.55, 0.45)</td>
<td>0.25</td>
</tr>
<tr>
<td>red plastic(红塑料)</td>
<td>(0.0, 0.0, 0.0)</td>
<td>(0.5, 0.0, 0.0)</td>
<td>(0.7, 0.6, 0.6)</td>
<td>0.25</td>
</tr>
<tr>
<td>white plastic(白塑料)</td>
<td>(0.0, 0.0, 0.0)</td>
<td>(0.55, 0.55, 0.55)</td>
<td>(0.70, 0.70, 0.70)</td>
<td>0.25</td>
</tr>
<tr>
<td>yellow plastic(黄塑料)</td>
<td>(0.0, 0.0, 0.0)</td>
<td>(0.5, 0.5, 0.0)</td>
<td>(0.60, 0.60, 0.50)</td>
<td>0.25</td>
</tr>
<tr>
<td>black rubber(黑橡胶)</td>
<td>(0.02, 0.02, 0.02)</td>
<td>(0.01, 0.01, 0.01)</td>
<td>(0.4, 0.4, 0.4)</td>
<td>0.078125</td>
</tr>
<tr>
<td>cyan rubber(青橡胶)</td>
<td>(0.0, 0.05, 0.05)</td>
<td>(0.4, 0.5, 0.5)</td>
<td>(0.04, 0.7, 0.7)</td>
<td>0.078125</td>
</tr>
<tr>
<td>green rubber(绿橡胶)</td>
<td>(0.0, 0.05, 0.0)</td>
<td>(0.4, 0.5, 0.4)</td>
<td>(0.04, 0.7, 0.04)</td>
<td>0.078125</td>
</tr>
<tr>
<td>red rubber(红橡胶)</td>
<td>(0.05, 0.0, 0.0)</td>
<td>(0.5, 0.4, 0.4)</td>
<td>(0.7, 0.04, 0.04)</td>
<td>0.078125</td>
</tr>
<tr>
<td>white rubber(白橡胶)</td>
<td>(0.05, 0.05, 0.05)</td>
<td>(0.5, 0.5, 0.5)</td>
<td>(0.7, 0.7, 0.7)</td>
<td>0.078125</td>
</tr>
<tr>
<td>yellow rubber(黄橡胶)</td>
<td>(0.05, 0.05, 0.0)</td>
<td>(0.5, 0.5, 0.4)</td>
<td>(0.7, 0.7, 0.04)</td>
<td>0.078125</td>
</tr>
</tbody>
</table>
<p><img alt="materials_real_world.png" src="../assets/materials_real_world.png" /></p>
<h2 id="_3">设置材质<a class="headerlink" href="#_3" title="Permanent link">#</a></h2>
<pre><code class="language-c">    void main()
    {    
        // 环境光
        vec3 ambient = lightColor * material.ambient;

        // 漫反射 
        vec3 norm = normalize(Normal);
        vec3 lightDir = normalize(lightPos - FragPos);
        float diff = max(dot(norm, lightDir), 0.0);
        vec3 diffuse = lightColor * (diff * material.diffuse);

        // 镜面光
        vec3 viewDir = normalize(viewPos - FragPos);
        vec3 reflectDir = reflect(-lightDir, norm);  
        float spec = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);
        vec3 specular = lightColor * (spec * material.specular);  

        vec3 result = ambient + diffuse + specular;
        FragColor = vec4(result, 1.0);
    }
</code></pre>
<pre><code class="language-c">lightingShader.setVec3(&quot;material.ambient&quot;,  1.0f, 0.5f, 0.31f);
lightingShader.setVec3(&quot;material.diffuse&quot;,  1.0f, 0.5f, 0.31f);
lightingShader.setVec3(&quot;material.specular&quot;, 0.5f, 0.5f, 0.5f);
lightingShader.setFloat(&quot;material.shininess&quot;, 32.0f);
</code></pre>
<p><img alt="materials_with_material.png" src="../assets/materials_with_material.png" /></p>
<h2 id="_4">光的属性<a class="headerlink" href="#_4" title="Permanent link">#</a></h2>
<p>光源对环境光、漫反射和镜面光分量应该具有着不同的强度，否则就会像上图一样 物体过于明亮。</p>
<p>可以创建一些光照属性来影响每个单独的光照分量</p>
<pre><code class="language-c">struct Light {
    vec3 position;

    vec3 ambient;
    vec3 diffuse;
    vec3 specular;
};

uniform Light light;
</code></pre>
<pre><code class="language-c">vec3 ambient  = light.ambient * material.ambient;
vec3 diffuse  = light.diffuse * (diff * material.diffuse);
vec3 specular = light.specular * (spec * material.specular);
</code></pre>
<pre><code class="language-c">lightingShader.setVec3(&quot;light.ambient&quot;,  0.2f, 0.2f, 0.2f);
lightingShader.setVec3(&quot;light.diffuse&quot;,  0.5f, 0.5f, 0.5f); // 将光照调暗了一些以搭配场景
lightingShader.setVec3(&quot;light.specular&quot;, 1.0f, 1.0f, 1.0f); 
</code></pre>
<p><img alt="materials_light.png" src="../assets/materials_light.png" /></p>
<h2 id="_5">材质贴图<a class="headerlink" href="#_5" title="Permanent link">#</a></h2>
<p>我们还可以通过材质贴图更精确的控制对物体的每个片段设置反射颜色。</p>
<p>因为环境光颜色在几乎所有情况下都等于漫反射颜色，所以不需要将它们分开储存</p>
<pre><code class="language-c">struct Material {
    sampler2D diffuse;
    sampler2D specular;
    float     shininess;
};
</code></pre>
<pre><code class="language-c">vec3 ambient  = light.ambient  * vec3(texture(material.diffuse, TexCoords));
vec3 diffuse  = light.diffuse  * diff * vec3(texture(material.diffuse, TexCoords));  
vec3 specular = light.specular * spec * vec3(texture(material.specular, TexCoords));
FragColor = vec4(ambient + diffuse + specular, 1.0);
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">搜索</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>请在下面输入你要搜索的文本（仅支持英文）：</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="搜索..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>帮助</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>下一页</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>上一页</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>搜索</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
